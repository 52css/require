/**
 * Created by Ivan on 2015/3/24.
 * Version: 0.0.1
 */!function(e,t){var n=function(){function e(e){if(e&&"object"==typeof e&&!c.isWindow(e)){var t=e.length;if(+t===t&&!(t%1)&&t>=0)try{return{}.propertyIsEnumerable.call(e,"length")===!1?Array.isArray(e)||/^\s?function/.test(e.item||e.callee):!0}catch(n){return!0}}return!1}var n={"[object Boolean]":"Boolean","[object Number]":"Number","[object String]":"String","[object Function]":"Function","[object Array]":"Array","[object Date]":"Date","[object RegExp]":"RegExp","[object Window]":"Window","[object Document]":"Document","[object Arguments]":"Arguments","[object NodeList]":"NodeList","[object HTMLDocument]":"Document","[object HTMLCollection]":"NodeList","[object StaticNodeList]":"NodeList","[object DOMWindow]":"Window","[object global]":"Window","null":"Null",NaN:"NaN",undefined:"Undefined"},r=n.toString,i=([].slice,{}.hasOwnProperty),o={}.toString,c={each:function(t,n,r){if(t){var i,o,c=t.length,a={}.hasOwnProperty;if(r){if(e(t))for(i=0;c>i&&n.apply(t,r)!==!1;i++)for(i in t)a.call(t,i)&&n.apply(t,r)}else if(e(t))for(i=0;c>i&&(o=t[i],n.call(o,i,o)!==!1);i++);else for(i in t)a.call(t,i)&&n.call(t,i,t[i])}},extend:function(){var e,t,n=arguments,r=n.length,i=1,o=function(e,t,n){return t=t||{},c.each(e,function(e,r){t[e]=t[e]||{},n&&"object"===c.type(r)?o(r,t[e],n):t[e]=r}),t};for(n[0]===!0?(i=2,t=1,e=n[1]):e=1===r?this:n[0];r>i;i++)o(n[i],e,t);return e},grep:function(e,t,n){if("array"===c.type(e)){var r=[],i=[];return c.each(e,function(e,n){t.call(n,n,e)?r.push(n):i.push(n)}),n?i:r}},makeArray:function(e){var t=[];if(null!==e){var n=e.length;if(null===n||e.split||e.setInterval||e.call)t[0]=e;else for(;n;)t[--n]=e[n]}return t},map:function(e,t){if("array"===c.type(e)){var n=[];return c.each(e,function(e,r){var i=t.call(r,r);i&&(n=Array.prototype.concat.call(n,i))}),n}},inArray:function(e,t,n){for(var r=n||0,i=t.length;i>r;r++)if(e===t[r])return r;return-1},merge:function(e,t){},unique:function(e){var t=[],n={};return c.each(e,function(e,r){n[r]||(n[r]=!0,t.push(r))}),t},noop:function(){},isArray:function(e){return"array"===c.type(e)},isFunction:function(e){return"function"===c.type(e)},isEmptyObject:function(e){for(var t in e)if(t)return!1;return!0},isPlainObject:function(e){if(!e||"[object Object]"!==o.call(e)||e.nodeType||e.setInterval)return!1;if(e.constructor&&!i.call(e,"constructor")&&!i.call(e.constructor.prototype,"isPrototypeOf"))return!1;var n;for(n in e);return n===t||i.call(e,n)},isWindow:function(e){return e.window&&e.window===e.window.window},isNullOrUndefined:function(e){return e==t},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){var t=n[c.isNullOrUndefined(e)||e!==e?e:r.call(e)]||e.nodeName||"#";return"#"===t.charAt(0)&&(t=e==e.document&&e.document!=e?"Window":9===e.nodeType?"Document":e.callee?"Arguments":isFinite(e.length)&&e.item?"NodeList":r.call(e).slice(8,-1)),t.toLowerCase()},trim:function(e){return"string"===c.type(e)?String.prototype.trim?e.trim():e.replace(/^s+|s+$/g,""):void 0}};return c.extend(c,{isJSON:function(e){return/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?!0:!1},log:function(){try{if(console&&console.log)return console.log.apply(console,arguments)}catch(e){}},Ajaxs:function(){return function(){var e=[],t=[],n=0,r=function(){e.end&&"function"===c.type(e.end)&&(e.end(),c.each(t,function(e,t){t()}),e.isEnd=!0)};return e.add=function(t){e.push(t)},e.fire=function(t,n){t&&"function"===c.type(t)&&t(),e.end=n,e.length?c.each(e,function(e,t){t&&"function"===c.type(t)&&t()}):r()},e.onEnd=function(n){e.isEnd?n():t.push(n)},e.ok=function(t,i,o){t&&i&&("object"===c.type(i)?t=c.extend(t,i):o&&(t[i]=o)),n+=1,e.length===n&&r()},e}}(),ready:function(){var e=[];return e.isReady=!1,e.ready=function(t){e.isReady?t():e.push(t)},e.fireReady=function(){if(!e.isReady){if(!document.body)return setTimeout(e.fireReady,16);if(e.isReady=1,e.length)for(var t,n=0;t=e[n];n++)t()}},"complete"===document.readyState?e.fireReady():-[1]?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),e.fireReady()},!1):(document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),e.fireReady())}),function(){if(!e.isReady){var t=new Image;try{t.doScroll(),t=null}catch(n){return void setTimeout(arguments.callee,64)}e.fireReady()}}()),e.ready}()}),c}(),r=function(){var t={},r={},i=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,o=/\\\\/g,c=document.head||document.getElementsByTagName("head")[0],a=function(e){var t=[];return e.replace(o,"").replace(i,function(e,n,r){r&&t.push(r)}),t},u=!0,s=function(e,t){var n,r,i=(e?document:c).getElementsByTagName("script");if(!u)return i[i.length-1];if(document.currentScript)return document.currentScript;try{throw new Error}catch(o){n=o.stack,!n&&window.opera&&(n=(String(o).match(/of linked script \S+/g)||[]).join(" "))}if(n&&(n=n.split(/[@ ]/g).pop(),n="("==n[0]?n.slice(1,-1):n,r=n.replace(/(:\d+)?:\d+$/i,"")),i.length){if("string"==typeof r&&r)for(var a,s=0;a=i[s++];)if(a.src===r)return a;for(var a,s=0;a=i[s++];)if("interactive"===a.readyState)return a;return u=!1,i[i.length-1]}},f=/^\w+:\/\/.+/,l=function(e,t){var n=s(e,t);if(n&&n.src){var r=n.src;return f.test(r)?r:n.getAttribute("src",4)}},d=function(e,t){if(!n.isNullOrUndefined(e)){var r,i=/\/\.\//g,o=/\/[^/]+\/\.\.\//,c=/([^:/])\/\//g;if(f.test(e))return e;for(n.isNullOrUndefined(t)&&(t=location.href),t=t.split("#")[0].split("/").slice(0,-1).join("/")+"/",r=(t+e).replace(i,"/");r.match(o);)r=r.replace(o,"/");return r=r.replace(c,"$1/"),/\.(css|js)$/.test(r)||(r+=".js"),r}},p=function(e,t){if(f.test(e)){var r=document.createElement("script");r.type="text/javascript",t&&(r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=r.onload=null,t.call(r))}),n.log("load script: "+e),r.src=e,document.body.appendChild(r)}},y=function(e,t){function n(e,t){t&&(e.attachEvent?e.attachEvent("onload",t):setTimeout(function(){r(e,t)},0))}function r(e,t){if(!t.isCalled){var n=!1;if(/webkit/i.test(navigator.userAgent))e.sheet&&(n=!0);else if(e.sheet)try{e.sheet.cssRules&&(n=!0)}catch(i){1e3===i.code&&(n=!0)}n?setTimeout(function(){t.call(e)},1):setTimeout(function(){r(e,t)},1)}}if(f.test(e)){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),c.appendChild(i),n(i,t)}},g=function(e,t){if(f.test(e)){var r;switch(/\.(css|js)$/.test(e)&&(r=RegExp.$1),r){case"css":y(e,function(){"function"===n.type(t)&&t()});break;case"js":p(e,t)}}},h=function(e,t){function r(){m.length&&g(m[0],function(){m.shift(),r()})}var i=e.length,o=0;if(t)n.ready(function(){m.length?m=m.concat(e):(m=e,r())});else for(;i>o;o++)g(e[o])},m=[],v={alias:{}},b={init:function(){var r,i=s(!0),o=l(!0);n.extend(e,{require:n.extend(b.require,{version:"0.0.4",config:function(e){e.base=d(e.base),n.extend(v,e)}}),define:n.extend(b.define,{defineMap:t})}),r=i.getAttribute("data-main"),r&&n.each(r.split(","),function(e,t){b.require(d(t,o))})},require:function(e,i){if(1===arguments.length&&"function"===n.type(e))return void n.ready(e);var o,c=new n.Ajaxs,s=[];o=v.base||l(!0,!0),console.log(l()),e=n.makeArray(e),"function"===n.type(i)&&(e=e.concat(a(i.toString()))),n.each(n.unique(e),function(e,t){t=d(t,o),r[t]||(r[t]=new n.Ajaxs,s.push(t)),c.add(function(){r[t].onEnd(function(){c.ok()})})}),s&&s.length&&h(s,!u),c.fire(function(){},function(){var r=[];n.each(e,function(e,n){n=d(n,o),r.push(t[n].exports)}),i.apply(null,r)})},define:function(e,i,o){var c=[],s=l(!0);switch(arguments.length){case 1:o=e,e=s,i=[];break;case 2:"string"===n.type(e)?(o=i,i=[],e=d(e,s)):(o=i,i=e,e=s)}"function"===n.type(o)&&(i=i.concat(a(o.toString()))),t[e]={id:e,deps:i,factory:o},r[e]||(r[e]=new n.Ajaxs),n.each(n.unique(i),function(t,i){i=d(i,e),r[i]||(r[i]=new n.Ajaxs,c.push(i)),r[e].add(function(){r[i].onEnd(function(){r[e].ok()})})}),c&&c.length&&h(c,!u),r[e].fire(function(){},function(){var r=t[e];r.exports={};var i=function(n){return n=d(n,e),t[n].exports};r.exports="function"===n.type(o)?o(i,r.exports,r)||r.exports:o})}};return b}();r.init()}(window);